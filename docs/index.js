(()=>{var t={131:()=>{var t=document.getElementById("score"),e=document.getElementById("progressFill"),n=document.getElementById("task"),o=document.getElementById("restartBtn"),i=document.getElementById("modal"),c=document.getElementById("modalTitle"),r=document.getElementById("modalText"),a=document.getElementById("modalRestart"),l=document.getElementById("modalClose"),s=document.getElementById("stage"),d=Array.from(document.querySelectorAll(".A_Item")),u=Array.from(document.querySelectorAll(".C_Bin")),f=0,v=3,m=[{x:46,y:8},{x:62,y:14},{x:72,y:24},{x:36,y:22},{x:30,y:10},{x:56,y:26}];function g(){for(var t=1;t<=3;t++)document.getElementById("life".concat(t)).classList.toggle("is-on",t<=v)}function y(){t.textContent=String(f);var n,o=f/5*100;e.style.width="".concat((n=o,Math.max(0,Math.min(100,n))),"%")}function p(t){s.classList.add("is-locked"),i.hidden=!1,"win"===t?(c.textContent="Победа!",r.textContent="Ты правильно отсортировала 5 предметов."):(c.textContent="Игра окончена",r.textContent="Жизни закончились. Попробуем ещё раз?"),requestAnimationFrame(function(){null==a||a.focus()})}function L(){i.hidden=!0,s.classList.remove("is-locked")}function h(){f=0,v=3,g(),y(),n.textContent="Собери 5 правильных предметов",L(),d.forEach(function(t,e){t.classList.remove("is-done","is-dragging"),t.style.left="".concat(m[e].x,"vw"),t.style.top="".concat(m[e].y,"vw"),t.dataset.done="0"})}function E(t,e){return u.find(function(n){var o=n.getBoundingClientRect();return t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom})}function x(t){u.forEach(function(t){return t.classList.remove("is-hover")}),t&&t.classList.add("is-hover")}d.forEach(function(t,e){t.style.left="".concat(m[e].x,"vw"),t.style.top="".concat(m[e].y,"vw");var n=null,o=0,c=0,r=0,a=0;function l(e){if(null!==n){t.releasePointerCapture(n),n=null,t.classList.remove("is-dragging");var o=E(e.clientX,e.clientY);x(null),o&&(function(t,e){return!!e&&e.dataset.accept===t.dataset.type}(t,o)?(function(t,e){var n=e.getBoundingClientRect(),o=s.getBoundingClientRect(),i=n.left-o.left+n.width/2,c=n.top-o.top+.15*n.height,r=i-t.offsetWidth/2,a=c-t.offsetHeight/2;t.style.left="".concat(r,"px"),t.style.top="".concat(a,"px")}(t,o),function(t){t.classList.add("is-done"),t.dataset.done="1",f+=1,y(),f>=5&&p("win")}(t)):(v-=1,g(),v<=0&&p("lose")))}}t.addEventListener("pointerdown",function(e){if("1"!==t.dataset.done&&i.hidden){n=e.pointerId,t.setPointerCapture(n);var l=t.getBoundingClientRect();o=e.clientX,c=e.clientY,r=l.left,a=l.top,t.classList.add("is-dragging")}}),t.addEventListener("pointermove",function(e){if(null!==n){var i=e.clientX-o,l=e.clientY-c,d=r+i,u=a+l,f=s.getBoundingClientRect(),v=d-f.left,m=u-f.top;t.style.left="".concat(v,"px"),t.style.top="".concat(m,"px"),x(E(e.clientX,e.clientY))}}),t.addEventListener("pointerup",l),t.addEventListener("pointercancel",l)}),o.addEventListener("click",h),a.addEventListener("click",h),l.addEventListener("click",L),i.addEventListener("click",function(t){t.target===i&&L()}),h()},428:()=>{var t,e=document.querySelector(".M_NavPill"),n=document.querySelector(".Q_NavIndicator"),o=Array.from(document.querySelectorAll(".A_NavLink"));if(e&&n&&o.length){var i=function(t){var e=a(r),o=t.offsetLeft-e,i=t.offsetWidth+2*e;n.style.left="".concat(o,"px"),n.style.width="".concat(i,"px")},c=function(){n.style.opacity="1"},r=.375,a=function(t){return t/100*window.innerWidth},l=function(t){return t?t.replace(/\/+$/,"").toLowerCase():"/"},s=l(window.location.pathname),d=(t=null,o.forEach(function(e){var n=e.getAttribute("href")||"",o=l(n.split("#")[0].split("?")[0]);o&&s.endsWith(o)&&(t=e),t||(""===s||"/"===s||s.endsWith("/index.html"))&&(o.endsWith("/index.html")||"/"===o)&&(t=e)}),t||o[0]);o.forEach(function(t){return t.classList.remove("is-active")}),d.classList.add("is-active"),i(d),c(),o.forEach(function(t){t.addEventListener("mouseenter",function(){i(t),c()}),t.addEventListener("focus",function(){i(t),c()})}),e.addEventListener("mouseleave",function(){i(d),c()}),e.addEventListener("focusout",function(t){e.contains(t.relatedTarget)||(i(d),c())}),window.addEventListener("resize",function(){i(d)})}var u=document.querySelector(".A_HeaderBurger"),f=document.querySelector(".M_HeaderNav");u&&f&&(u.addEventListener("click",function(){u.classList.toggle("is-active"),f.classList.toggle("is-open")}),document.querySelectorAll(".A_NavLink").forEach(function(t){t.addEventListener("click",function(){u.classList.remove("is-active"),f.classList.remove("is-open")})}))}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var c=e[o]={exports:{}};return t[o](c,c.exports,n),c.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";n(428),n(131)})()})();